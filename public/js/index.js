!function(a){var n={};function o(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return a[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=a,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,a){"use strict";var n;(n=a(1),n&&n.__esModule?n:{default:n}).default.init()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=o(a(2)),r=o(a(3));function o(e){return e&&e.__esModule?e:{default:e}}var s={init:function(){this.renderTasks(),this.addListeners()},renderTasks:function(){var t=this;l.default.insertFromStorage().then(function(e){t.insertTasks(e),t.renderModelStorage(e)})},addListeners:function(){var e=this;document.addEventListener("click",function(){e.delegateClick(event)})},delegateClick:function(e){return"new-task__add-button"==e.target.className?this.addTask(e):"save-button"==e.target.className?this.saveToStorage():"done-box"==e.target.className?this.doneCheck(e):"delete-button"==e.target.className?this.deleteTask(e):"change-button"==e.target.className?this.changeTask(e):"save-item-button"==e.target.className?this.saveChangesInTask(e):e.target.classList.contains("button-open")||"button-close"==e.target.className?this.changeStateOfApp(e):"button-update"==e.target.className?this.updateWindow(e):void 0},updateWindow:function(){window.location.reload()},changeStateOfApp:function(){var e=document.querySelector(".new-task"),t=document.querySelector(".button-open");e.classList.toggle("new-task--active"),t.classList.toggle("button-open--active")},addTask:function(e){var t=e.target.parentElement.firstElementChild.value,a={task:t,doneCheck:!1};document.querySelector(".new-task__task-input").value="",t&&(l.default.saveToModelStorage(t,a),l.default.saveToLocalStorage(l.default.modelStorage),this.renderTasks())},saveToStorage:function(){l.default.cleanLocalStorage(),l.default.saveToLocalStorage(l.default.modelStorage)},insertTasks:function(e){for(var t in r.default.cleanWrapper(),e)r.default.addTask(e[t])},changeTask:function(e){var t=e.target.parentElement.previousElementSibling.firstElementChild,a=t.nextElementSibling;r.default.hideElement(t),r.default.showElement(a)},saveChangesInTask:function(e){var t=e.target.parentElement.previousElementSibling.firstElementChild.value,a=e.target.parentElement.previousElementSibling.firstElementChild,n=a.nextElementSibling,o=n.nextElementSibling.checked;a.value=n.value,r.default.hideElement(n),r.default.showElement(a),delete l.default.modelStorage[t],l.default.modelStorage[a.value]={task:a.value,doneCheck:o},l.default.saveToLocalStorage(l.default.modelStorage)},deleteTask:function(e){var t=e.target.parentElement.previousElementSibling.firstElementChild.value,a=e.target.parentElement.parentElement;r.default.hideElement(a),delete l.default.modelStorage[t],l.default.saveToLocalStorage(l.default.modelStorage)},renderModelStorage:function(e){l.default.modelStorage=n({},e)},doneCheck:function(e){var t=e.target.previousElementSibling.previousElementSibling;e.target.checked?r.default.decorateTextOfElement(t,"italic","line-through"):r.default.decorateTextOfElement(t,"normal","none"),l.default.modelStorage[e.target.parentElement.firstElementChild.value].doneCheck=e.target.checked,l.default.saveToLocalStorage(l.default.modelStorage)}};t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={modelStorage:{},saveToLocalStorage:function(e){console.log("saved to storage"),console.log(e),localStorage.data=JSON.stringify(e)},cleanLocalStorage:function(){console.log("storage is cleared"),localStorage.data=""},saveToModelStorage:function(e,t){this.modelStorage[e]=t,console.log("this.modelStorage"),console.log(this.modelStorage)},insertFromStorage:function(){return new Promise(function(e){localStorage.data?e(JSON.parse(localStorage.data)):console.log("locaStorage is empty")})}};t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={addTask:function(e){var t=document.querySelector(".task-wrapper"),a=document.createElement("div");a.className="using-task";var n=e.doneCheck?"checked":"",o=e.doneCheck?"font-style:italic;text-decoration:line-through;":"font-style:normal;text-decoration:none;";a.innerHTML='\n        <div class=\'using-task__task\'>\n          <textarea disabled type="text" placeholder="задача" class="task-name" style='+o+" >"+e.task+'</textarea>\n          <textarea class="task-name-input" style=\'display:none;\' id="doneBox" >'+e.task+'</textarea>\n          <input type="checkbox" '+n+' class="done-box" id="doneBox">\n        </div>\n        <div class=\'using-task__buttons\'>\n          <button id="addButton" class="change-button">Редактировать</button>\n          <button id="saveButton" class="save-item-button">Сохранить</button>\n          <button id="saveButton" class="delete-button">Удалить</button> \n        </div>\n    ',t.appendChild(a)},cleanWrapper:function(){document.querySelector(".task-wrapper").innerHTML=""},showElement:function(e){e.style.display="block"},hideElement:function(e){e.style.display="none"},decorateTextOfElement:function(e,t,a){e.style.fontStyle=t,e.style.textDecoration=a}};t.default=n}]);